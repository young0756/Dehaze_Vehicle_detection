<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Image enhancement and vehicle recognition</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <button id="nav-home" class="active" onclick="showPage('home')">Home</button>
            <button id="nav-r&e" onclick="showPage('r&e')">Image processing</button>
        </div>
        <div class="main-content">
        <div id="page-home" class="page-section" style="display:block;">
        <!-- 首页内容-->
<nav class="top-navbar" style="display:flex; align-items:center; justify-content:space-between; padding:20px 40px; background:#2c3e50; color:#fff;">
    <div class="logo" style="font-weight:bold; font-size:22px;">Logo</div>
    <div class="nav-links" style="display:flex; gap:30px;">
        <a href="#" style="color:#fff; text-decoration:none;">products</a>
        <a href="#" style="color:#fff; text-decoration:none;">solution</a>
        <a href="#" style="color:#fff; text-decoration:none;">solution ...</a>
        <a href="#" style="color:#fff; text-decoration:none;">Price</a>
    </div>
    <div>
        <a href="#" style="color:#fff; margin-right:15px; text-decoration:none;">login</a>
        <a href="#" style="color:#fff; border:1px solid #fff; border-radius:4px; padding:6px 16px; text-decoration:none;">Signup</a>
    </div>
</nav>

<section class="hero" style="text-align:center; padding:60px 20px 40px 20px;">
    <h1 style="font-size:38px; margin-bottom:18px;">Image enhancement and vehicle recognition platform</h1>
    <p style="font-size:20px; color:#555;">Intelligently improve image quality, accurately identify vehicle information, and help the digital upgrading of the industry</p>
</section>

<section class="features" style="display:flex; justify-content:center; gap:60px; margin:40px 0;">
    <div style="background:#f5f5f5; padding:30px 40px; border-radius:10px; text-align:center;">
        <h2>Image enhancement</h2>
        <p>Enhance image clarity and detail, suitable for a wide range of scenarios</p>
    </div>
    <div style="background:#f5f5f5; padding:30px 40px; border-radius:10px; text-align:center;">
        <h2>Vehicle identification</h2>
        <p>Intelligent recognition of vehicle model and other information, accurate and efficient</p>
    </div>
</section>

<section class="scenarios" style="text-align:center; margin:40px 0;">
    <h2>Application scenarios</h2>
    <div style="display:flex; justify-content:center; gap:40px; margin-top:20px;">
        <div>Intelligent transportation</div>
        <div>Security monitoring</div>
        <div>Automotive industry</div>
    </div>
</section>

<section class="product-entry" style="text-align:center; margin:40px 0;">
    <h2>Product entrance</h2>
    <div style="display:flex; justify-content:center; gap:40px; margin-top:20px;">
        <a href="#" style="background:#2c3e50; color:#fff; padding:16px 32px; border-radius:8px; text-decoration:none;">Online tools</a>
        <a href="#" style="background:#2c3e50; color:#fff; padding:16px 32px; border-radius:8px; text-decoration:none;">API/SDK</a>
        <a href="#" style="background:#2c3e50; color:#fff; padding:16px 32px; border-radius:8px; text-decoration:none;">Mobile</a>
    </div>
</section>

<footer class="footer" style="background:#2c3e50; color:#fff; text-align:center; padding:30px 0; margin-top:60px;">
    <div style="margin-bottom:10px;">
        <a href="#" style="color:#fff; margin:0 15px; text-decoration:none;">About us</a>
        <a href="#" style="color:#fff; margin:0 15px; text-decoration:none;">Contact us</a>
        <a href="#" style="color:#fff; margin:0 15px; text-decoration:none;">Privacy Policy</a>
        <a href="#" style="color:#fff; margin:0 15px; text-decoration:none;">Social media</a>
    </div>
    <div style="font-size:13px; color:#bbb;">© 2025 Vehicle identification platform. All rights reserved.</div>
</footer>
        </div>
<div id="page-r&e" class="page-section" style="display:none;">
    <nav class="top-navbar" style="display:flex; align-items:center; justify-content:space-between; padding:20px 40px; background:#2c3e50; color:#fff;">
        <input type="file" id="imageInput" accept="image/*" >
        <button onclick="enhance()">Image enhancement</button>
        <button onclick="recognize()">Image recognition</button>
        <button onclick="clearRecognize()">clear</button>
    </nav>
    <div style="display: flex; gap: 20px; margin-top: 20px;">
        <div style="text-align:center;">
            <img id="preview" style="max-width:400px; max-height:400px; display:none;">
            <img id="result-original" style="max-width:400px; max-height:400px; display:none;">
        </div>
        <div style="text-align:center;">
            <img id="enhancePreview" style="max-width:400px; max-height:400px; display:none;">
            <img id="result-enhance" style="max-width:400px; max-height:400px; display:none;">
        </div>
    </div>
</div>
    <script>
    function showPage(page) {
        document.querySelectorAll('.page-section').forEach(div => div.style.display = 'none');
        document.querySelectorAll('.sidebar button').forEach(btn => btn.classList.remove('active'));
        document.getElementById('page-' + page).style.display = 'block';
        document.getElementById('nav-' + page).classList.add('active');
    }

    let selectedFile = null;
    let enhanceImageBase64 = null;

    document.getElementById('imageInput').onchange = function(e) {
        selectedFile = e.target.files[0];
        let reader = new FileReader();
        reader.onload = function(event) {
            let img = document.getElementById('preview');
            img.src = event.target.result;
            img.style.display = 'block';
            document.getElementById('result-original').style.display = 'none';
            document.getElementById('result-enhance').style.display = 'none';
            document.getElementById('enhancePreview').style.display = 'none';
            enhanceImageBase64 = null;
        }
        reader.readAsDataURL(selectedFile);
    };

    function enhance() {
        if (!selectedFile) return alert('Please upload your image first');
        let formData = new FormData();
        formData.append('image', selectedFile);
        fetch('/enhance', {method: 'POST', body: formData})
            .then(res => res.json())
            .then(data => {
                let img = document.getElementById('enhancePreview');
                img.src = 'data:image/jpeg;base64,' + data.image;
                img.style.display = 'block';
                enhanceImageBase64 = data.image;
                document.getElementById('result-enhance').innerText = '';
            });
    }

    function recognize() {
        if (!selectedFile) return alert('Please upload your image first');
        // 识别原图
        let formData1 = new FormData();
        formData1.append('image', selectedFile);
        fetch('/recognize', {method: 'POST', body: formData1})
            .then(res => res.json())
            .then(data => {
                let img = document.getElementById('result-original');
                img.src = 'data:image/jpeg;base64,' + data.image;
                img.style.display = 'block';
                ImageBase64 = data.image;
                document.getElementById('result-original').innerText = '';
            });

        // 识别增强图
        if (enhanceImageBase64) {
            fetch('/recognize', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({image_base64: enhanceImageBase64})
            })
            .then(res => res.json())
            .then(data => {
                let img = document.getElementById('result-enhance');
                img.src = 'data:image/jpeg;base64,' + data.image;
                img.style.display = 'block';
                enhanceImageBase64 = data.image;
                document.getElementById('result-enhance').innerText = '';
            });
        } else {
            return alert('Note: No image enhancement is performed');
        }
    }

    function clearRecognize() {
        document.getElementById('preview').style.display = 'none';
        document.getElementById('enhancePreview').style.display = 'none';
        document.getElementById('result-original').style.display = 'none';
        document.getElementById('result-enhance').style.display = 'none';
        document.getElementById('imageInput').value = '';
        selectedFile = null;
        enhanceImageBase64 = null;
    }
    </script>
</body>
</html>